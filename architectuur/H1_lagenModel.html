<h2>1.1 De drielagenmodel aan de hand van een voorbeeld</h2>

<p>Wat gebeurt er als jij een foto maakt? Je opent de camera-app, richt je telefoon en drukt op de knop om een foto te maken. Op de achtergrond werken de apps, het besturingssysteem en de hardware samen in drie lagen:</p>
<ul>
<li><strong>Fysieke laag:</strong> de camera (hardware) legt het beeld vast;</li>
<li><strong>Logische laag:</strong> het besturingssysteem slaat de foto op;</li>
<li><strong>Toepassingenlaag:</strong> de app laat jou de foto maken en bewerken.</li>
</ul>
  
<p>Deze drie lagen werken samen zonder dat jij daar iets van merkt.</p>

<h2>1.2 Het drielagenmodel</h2>

<p>Het <strong>drielagenmodel</strong> beschrijft hoe hardware, software en gebruiker samenwerken in een digitaal systeem.</p>

<p>
<img caption="Drielagenmodel" src="img/drielagenmodel_uitCT_1.1.png" width="400"/><br/>
<i>Drielagenmodel</i>
</p>


<p>Allereerst is er de <strong>fysieke laag</strong>. Dit is alles wat je kunt aanraken: de <i>hardware</i>. Denk aan de camera en het touchscreen van je smartphone. Het gaat ook om onderdelen ín het apparaat, zoals de geheugenchips waarop je foto's worden opgeslagen, de lens waarmee je scherpstelt, of de accu. Bij een pc kun je ook denken aan het toetsenbord of een printer.</p>

<p>Daarboven zit de <strong>logische laag</strong>. Deze laag bestaat uit het <i>besturingssysteem</i>. Voorbeelden van besturingssystemen zijn Android of iOS (voor smartphones en tablets), en Windows, macOS of Linux (voor computers). De logische laag zorgt ervoor dat de drie lagen goed samenwerken. Zo wordt het apparaat betrouwbaar en veilig in gebruik. Als jij bijvoorbeeld een foto maakt, zorgt het besturingssysteem ervoor dat de camera de juiste instellingen gebruikt, de foto opslaat en daarna weer geheugen vrijmaakt.</p>

<p>De bovenste laag is de <strong>toepassingenlaag</strong>. Hierin bevinden zich de <i>apps</i> (of toepassingen) die jij als gebruiker gebruikt. Denk aan de camera-app waarmee je een foto maakt, de galerij waarin je die bekijkt, of WhatsApp of Signal waarmee je de foto verstuurt.</p>



<p>Componenten in een computersysteem werken samen doordat ze elkaar <i>diensten</i> aanbieden. De apps in de toepassingenlaag geven opdrachten aan het besturingssysteem in de logische laag – bijvoorbeeld: "sla dit bestand op". Het besturingssysteem vertaalt zo'n opdracht naar acties op de fysieke laag, zoals: "sla dit op op de harde schijf".
Daarbij controleert het besturingssysteem ook of een app wel de juiste toestemming heeft, bijvoorbeeld om de camera te gebruiken. Als dat niet zo is, wordt de toegang geblokkeerd. Het besturingssysteem regelt dit allemaal achter de schermen, zodat jouw apps veilig, snel en zonder gedoe kunnen doen wat jij wilt.</p>



<p>
<img src="img/lagenmodel.png" width="400"/><br/>
<i>Het drielagenmodel en bijbehorende onderdelen.</i></p>


<h3>Verwerkingsopdracht: Volgorde van de drie lagen</h3>

Welke volgorde geeft de lagen van het lagenmodel van onder naar boven correct weer?
<ol type="A">
<li>Toepassingenlaag – Fysieke laag - Logische laag
<li>Fysieke laag – Logische laag – Toepassingenlaag
<li>Fysieke laag – Toepassingenlaag – Logische laag
<li>Logische laag – Fysieke laag – Toepassingenlaag
</ol>
ANTWOORD: B) Fysieke laag – Logische laag – Toepassingenlaag



<h3>Verwerkingsopdracht: De lagen van een apparaat</h3>
In deze opdracht ga voor een bepaald apparaat onderzoeken welk onderdelen er in elk van de drie lagen zit.

<ol type="a">
<li>Kies uit een van de volgende apparaten: tablet, laptop, printer, smartwatch.
<li>Noem voor ieder van de drie lagen 1 onderdeel.
</ol>


VOORBEELD ANTWOORDEN
Tablet:
<ul>
<li>Fysiek: Touchscreen, camera’s, batterij, speakers, microfoon.
<li>Logisch: Android, iOS
<li>Toepassing: Browser zoals Google Chrome/Safari, en apps zoals Roblox, Minecraft en Subway Surfers.
</ul>

Laptop:
<ul>
<li>Fysiek: Toetsenbord, scherm, accu
<li>Logisch: Windows 11, of macOS Ventura / Sonoma / Monterey
<li>Toepassing: Safari, Word, Teams, Spotify.
</ul>

Printer:
<ul>
<li>Fysiek: Papierinvoer, inktcartridges, printkop.
<li>Logisch: Printerfirmware of printerdriver.
<li>Toepassing: Printopdracht vanuit Word of een foto printen via een app.
</ul>

Smartwatch:
<ul>
<li>Fysiek: Scherm, hartslagsensor, batterij.
<li>Logisch: WatchOS (Apple) of Wear OS (Google).
<li>Toepassing: Stappenteller-app, meldingen-app.
</ul>
 

<h3>Verwerkingsopdracht: Herkenbaarheid</h3>

<p>Welk van de drie lagen vind je het makkelijkst om te benoemen? Licht toe waarom.</p>


VOORBEELD ANTWOORDEN:
<ul>
<li>Ik vond de fysieke laag makkelijk, want je ziet direct onderdelen zoals een scherm of een toetsenbord.
<li>De toepassingenlaag was makkelijk, omdat we allemaal apps gebruiken en herkennen.
</ul>

 <h2>1.2 Interfaces: Communicatie tussen de lagen</h2>
<p>Een <b>interface</b> zorgt voor de communicatie tussen twee 
verschillenden onderdelen van een computer. Dat kunnen twee onderdelen <i>binnen</i>
 dezelfde laag zijn, of twee onderdelen die bij <i>verschillende</i> lagen horen.</p>


<p>
<img src="img/drielagenmodelMetInterfaces_uitCT_1.1.png" width="400"/><br>
<i>Interfaces</i></p>

<p>Er zijn verschillende soorten interfaces:</p>
<ul>
<li><b>Application Programming Interfaces (API's)</b> - zorgen voor communicatie tussen software onderdelen.</li>

<li><b>Drivers</b> - zorgen voor communicatie tussen hardware en software. Het is speciale software om bijvoorbeeld je printer 
aan te sturen, of de camera van je telefoon.</li>


<li><b>GUI (Graphical User Interface)</b> - via deze interface communiceert een apparaat met de 
gebruiker. Een GUI is wat je op het scherm ziet als je een computer of telefoon gebruikt: knoppen, menu’s, vensters, pictogrammen en schuifbalken. Hierdoor kan je communiceren met het apparaat met de muis of touchscreen.</li>

<li><b>Hardware interfaces</b> - dit zijn elektronische verbindingen tussen fysieke onderdelen. Bijvoorbeeld tussen het geheugen en de processor.</li>

<li><b>Connectoren</b> (of pluggen) - dit zijn bekabelde hardware interfaces: denk aan de kabel tussen 
je monitor en je pc.</li>
</ul>

<p>We bekijken nu twee soorten interfaces in meer detail: API's en drivers.</p>

<p>
<img src="img/lagenmodel.png"><br>
<i>De drielagenmodel met API's en drivers</i>
</p>

<h2>1.2.1 Application Programming Interfaces (API’s)</h2>

<p><strong>Application Programming Interfaces (API’s)</strong> zorgen voor de communicatie tussen verschillende softwareonderdelen. Denk bijvoorbeeld aan een app die via het besturingssysteem de camera gebruikt. De app geeft dan een opdracht zoals “maak een foto”. De API stuurt deze opdracht door naar het besturingssysteem, dat vervolgens de juiste hardware aanstuurt.</p>

<p>Er zijn API’s voor allerlei functies: van het bepalen van je locatie en het verwerken van toetsaanslagen of tikken op het touchscreen, tot het openen of opslaan van bestanden in het geheugen. Dankzij API’s hoeft de app niet precies te weten hoe de hardware werkt — dat regelt de API.</p>

<p>Als je zelf een app maakt, kun je met behulp van API’s gegevens gebruiken van sensoren op je telefoon, zonder dat je de technische details hoeft te kennen. In het voorbeeld hieronder zie je hoe je via een Android-API gegevens over de luchtvochtigheid kunt gebruiken in je eigen app.</p>

<h3>Voorbeeld: luchtvochtigheid meten</h3>
<ol type="a">
  <li>Ga naar de documentatie van de <a href="https://developer.android.com/reference/android/hardware/SensorEvent#sensor.type_relative_humidity" target="_blank">luchtvochtigheidssensor</a> (<i>humidity sensor</i> in het Engels).</li>
  <li>Je ziet daar welke gegevens via de API beschikbaar zijn. In dit geval is dat één waarde:  
    <br/><code>values[0]: Relative ambient air humidity in percent</code></li>
  <li>Je kunt deze waarde in je app gebruiken. Bijvoorbeeld: als de luchtvochtigheid hoog is, kun je de gebruiker waarschuwen voor kans op regen of benauwdheidsklachten.</li>
</ol>

<h3>Verwerkingsopdracht: Temperatuur meten</h3>
<p>Onderzoek hoe je via de Android API de temperatuur op een mobiele telefoon kunt meten:</p>
<ol type="a">
  <li>Ga naar de <a href="https://developer.android.com/reference/android/hardware/SensorEvent#values" target="_blank">Android API-documentatie</a>.</li>
  <li>Zoek op het woord <i>temperature</i> (Engels voor "temperatuur").</li>
  <li>Hoeveel waarden levert de API terug? En in welke <strong>eenheid</strong> (bijvoorbeeld graden Celsius) worden deze weergegeven?</li>
  <li>Moet je de technische details van de sensor kennen om de temperatuur uit te lezen, zoals het type of merk van de sensor?</li>
  <li>Leg aan de hand van je antwoord uit waarom het <strong>drielagenmodel</strong> het mogelijk maakt dat je maar één versie van je app hoeft te maken voor alle Android-toestellen, en één versie voor iOS-apparaten.</li>
</ol>


ANTWOORD:
<ol type="a">
<li>...
<li>
<a href="https://developer.android.com/reference/android/hardware/SensorEvent#sensor.type_ambient_temperature:">Hier</a> staat de informatie over de temperatuur. </li>
<li>Het geeft 1 waarde terug, de temperatuur in graden Celsius.
<li>Nee, je hoeft geen detailgegevens over de sensor te weten. 
<li>De lagenmodel is handig want dan kan een appontwikkelaar hoeft geen rekening te houden met welk type of merk sensor er gebruikt wordt en hoe die uit te lezen. De programmeur hoeft alleen rekening te houden met de besturingssyteem, want die communiceert met de sensor. De programmeur hoeft dus maar twee versies van zijn app te maken, één voor iOS en één voor Android.
</li></ol>



<h3>Verdieping: Meten van de versnelling</h3>
<p>Een controller moet kunnen reageren op bewegingen. Hiervoor kun je de <strong>versnelling</strong> meten.</p>
<ol type="a">
  <li>Ga naar de documentatie van de versnellingsmeter (in het Engels: <i>accelerometer</i>):  
    <a href="https://developer.android.com/reference/android/hardware/SensorEvent#sensor.type_accelerometer" target="_blank">
      SensorEvent – accelerometer
    </a>.
  </li>
  <li>Bekijk welke gegevens de API levert. In dit geval krijg je een lijst met drie waarden:
    <ul>
      <li><code>values[0]</code>: Versnelling (zonder zwaartekracht Gx) op de x-as</li>
      <li><code>values[1]</code>: Versnelling (zonder zwaartekracht Gy) op de y-as</li>
      <li><code>values[2]</code>: Versnelling (zonder zwaartekracht Gz) op de z-as</li>
    </ul>
  </li>
</ol>

<h3>Verdiepingsopdracht: Meten van hoeksnelheid</h3>
<p>Een controller moet ook kunnen reageren op draaien en kantelen. Hiervoor gebruik je de <strong>gyroscoop</strong>, die de <strong>hoeksnelheid</strong> meet. Onderzoek hoe je deze gegevens via de Android API kunt opvragen:</p>
<ol type="a">
  <li>Ga naar de <a href="https://developer.android.com/reference/android/hardware/SensorEvent#values" target="_blank">API-documentatie</a>.</li>
  <li>Zoek op het woord <i>gyroscope</i> (Engels voor "gyroscoop").</li>
  <li>Hoeveel waarden krijg je terug? En in welke eenheid worden deze weergegeven?</li>
</ol>

<p><b>Antwoord:</b><br/>
<ol type="a">
<li>...
<li>De juiste link is 
<a href="https://developer.android.com/reference/android/hardware/SensorEvent#sensor.type_gyroscope" target="_blank">
deze
</a>.
<li>Er worden drie waarden teruggegeven: één voor elke as (x, y en z). De eenheid is <b>radialen per seconde</b> (in het Engels: radians/second).</li>
</ol>
</p>


<h2>1.2.2 Drivers</h2>
<p><b>Drivers</b> zorgen ervoor dat hardware en het besturingssysteem met elkaar kunnen communiceren. Een driver is speciale software die het besturingssysteem alle informatie geeft die het nodig heeft om een hardware-onderdeel aan te sturen. Het regelt ook de communicatie tussen hardware en software.</p>

<p>Een voorbeeld van een apparaat waarvoor je soms handmatig een driver moet installeren, is een gamecontroller, zoals een Xbox- of PlayStation-controller. Als je deze aansluit op een pc, probeert het besturingssysteem meestal automatisch een driver te vinden. Werkt dit niet, dan moet je zelf de juiste driver installeren zodat je controller herkend wordt en alle knoppen werken zoals bedoeld. </p>


<p><img alt="Driver Hardware PC" src="img/Driver_controller.jpg" width="400"><br/>
<i>Drivers zorgen voor samenwerking tussen het besturingssysteem en randapparatuur.</i>
<small>(Bron: <a href="https://www.freepik.com/" target="_blank">Freepik</a>)</small></img></p>

<p>Zonder drivers zouden computers niet goed kunnen samenwerken met randapparatuur zoals muizen, toetsenborden, printers of koptelefoons.</p>



<h3>Verwerkingsopdracht: Drivers en het besturingssysteem</h3>
<ol type="a">
<li>Met welke lagen in het drielagenmodel hebben drivers te maken?</li>
<li>Leg uit waarom je een driver kunt zien als een voorbeeld van een interface.</li>
<li>Noem een concreet voorbeeld van een driver en geef kort aan waarvoor die gebruikt wordt.</li>
</ol>



ANTWOORDEN:
<ol type="a">
<li>Drivers zijn betrokken bij de fysieke laag (hardware) en de logische laag (besturingssysteem). Ze vormen de schakel tussen het besturingssysteem en de hardware.</li>
<li>Een driver vertaalt de commando’s van het besturingssysteem naar signalen die de hardware begrijpt, en andersom. Het is dus de verbinding tussen die twee lagen en zorgt ervoor dat de twee lagen met elkaar kunnen communiceren.</li>
<li>Een printerdriver is een voorbeeld. Deze zorgt ervoor dat het besturingssysteem opdrachten kan geven aan een printer, zoals het afdrukken van een document.</li>
</ol>


<h3>Verwerkingsopdracht: Begrippen koppelen</h3>
<p>Koppel elk begrip aan de juiste definitie.</p>

<p>
<b>Begrippen</b>:
Fysieke laag<br/>
Logische laag<br/>
toepassingenlaag<br/>
Interface<br/>
Driver<br/>
API</p>

<p>
<b>Definities</b>
Software die de hardware aanstuurt<br/>
Schakel tussen twee lagen, zoals een API of een driver<br/>
Interface waarmee apps communiceren met het besturingssysteem<br/>
Besturingssysteem zoals Android of iOS<br/>
Apps zoals de camera-app of WhatsApp<br/>
Hardware zoals de camera, het geheugen of het scherm</p>




<p><b>ANTWOORDEN:</b></p>
<ul>
<li><b>Fysieke laag</b> – Hardware zoals de camera, het geheugen of het scherm</li>
<li><b>Logische laag</b> – Besturingssysteem zoals Android of iOS</li>
<li><b>toepassingenlaag</b> – Apps zoals de camera-app of WhatsApp</li>
<li><b>Interface</b> – Schakel tussen twee lagen, zoals een API of een driver</li>
<li><b>Driver</b> – Software die de hardware aanstuurt</li>
<li><b>API</b> – Interface waarmee apps communiceren met het besturingssysteem</li>
</ul>


<h1>1.3 Belang van de lagen</h1>

Het principe van het drielagenmodel heeft een aantal voordelen:
<ul>
<li><b>Veiligheid en betrouwbaarheid</b>: Het drielagenmodel zorgt ervoor dat een computer ordelijk, veilig en betrouwbaar werkt. Het besturingssysteem weet precies welke onderdelen met elkaar mogen communiceren. Apps (in de toepassingenlaag) kunnen niet rechtstreeks de hardware (fysieke laag) aansturen; ze moeten dit altijd via het besturingssysteem (logische laag) doen. Dat geeft het besturingssysteem controle: het kan bijvoorbeeld weigeren dat een app zomaar je camera gebruikt of dat je telefoon geluid maakt als hij op stil staat – bijvoorbeeld tijdens de les. Zo voorkomt het besturingssysteem bijvoorbeeld dat een kwaadaardige app zomaar toegang krijgt tot jouw persoonlijke gegevens of het geheugen beschadigt.</li>


<li><b>Onderdelen kunnen vervangen of verbeterd worden</b>: Dankzij het drielagenmodel kun je onderdelen in één laag veranderen zonder dat er iets in de andere lagen aangepast hoeft te worden. Als je bijvoorbeeld een nieuwe muis of printer aansluit (fysieke laag), blijven je programma’s (toepassingenlaag) gewoon werken. Het besturingssysteem (logische laag) zorgt ervoor dat de communicatie met de nieuwe hardware op de juiste manier verloopt. Dit maakt computersystemen flexibel, beter te onderhouden en makkelijker aan te passen aan nieuwe technologie.</li>


<li><b>Lagen werken onafhankelijk van elkaar</b>: In het drielagenmodel hoeft een app (toepassingenlaag) niet te weten hoe de hardware precies werkt. Zolang het besturingssysteem (logische laag) goed functioneert, kunnen programma’s probleemloos samenwerken met verschillende soorten apparaten. Je kunt bijvoorbeeld je harde schijf (fysieke laag) vervangen door een groter model, zonder dat de apps opnieuw geïnstalleerd hoeven te worden. Dankzij deze scheiding zijn software en hardware onafhankelijk van elkaar. Dat betekent ook dat veel oude programma’s nog steeds kunnen draaien op nieuwe computers – zolang de logische laag (het besturingssysteem) de juiste verbinding verzorgt.</li>

<li><b>Handig voor ontwerpers en programmeurs</b>: Programma’s worden ontwikkeld voor de toepassingenlaag en communiceren via duidelijke regels met het besturingssysteem (logische laag). Daardoor hoeven programmeurs zich niet bezig te houden met hoe de hardware precies werkt. Bij het maken van een app hoef je als ontwikkelaar bijvoorbeeld alleen rekening te houden met het besturingssysteem. Zo maak je één versie voor Android en één voor iOS, zonder dat je iets hoeft te veranderen aan de onderliggende hardware.</li>

</ul>



<h3>Verwerkingsopdracht: Het nut van het drielagenmodel</h3>
<p>Waarom is het handig dat een computer werkt met een drielagenmodel?</p>
<ol type="A">
<li>Omdat de computer dan sneller werkt.
<li>Omdat je dan precies moet weten hoe de hardware werkt voordat je software kunt maken.
<li>Omdat elke laag zijn eigen taak heeft en je onderdelen kunt vervangen zonder dat je het hele systeem hoeft aan te passen.
<li>Omdat het besturingssysteem dan overgeslagen kan worden bij het uitvoeren van programma’s.
</ol>

ANTWOORD:
C. Omdat elke laag zijn eigen taak heeft en je onderdelen kunt vervangen zonder dat je het hele systeem hoeft aan te passen.<br/>
Toelichting: Het drielagenmodel zorgt voor een duidelijke taakverdeling. De lagen werken via vaste interfaces. Daardoor kun je bijvoorbeeld een nieuw toetsenbord aansluiten (verandering in de fysieke laag) zonder dat de toepassingen (zoals Word) hoeven te worden aangepast.


<h3>Verwerkingsopdracht: Veranderingen in één laag</h3>
<p>Leg uit wat het voordeel is van het drielagenmodel als je bijvoorbeeld het toetsenbord vervangt door een touchscreen. Welke lagen veranderen, welke lagen blijven hetzelfde, en waarom is dat handig?</p>



Voorbeeld antwoord:
Alleen de fysieke laag verandert. De logische laag (zoals het besturingssysteem) en de toepassingenlaag (zoals een tekstverwerker) hoeven niet aangepast te worden. Dat maakt het systeem flexibel en makkelijker aan te passen.
</p>