<!-- 7: Technologie, de laatste pijler -->

<p>Bij technologie denk je natuurlijk direct aan computers, maar er is veel meer. Gewone spellen gebruiken ook technologie. Denk bijvoorbeeld aan een tennisracket. Vijftig jaar geleden was een tennisracket nog een houten ding met een klein blad, bespannen met snaren uit darm. Tegenwoordig is een racket high tech en worden rackets steeds verbeterd zodat je er harder en preciezer mee kunt slaan.</p>
<p>Maar goed, dit is het vak informatica en we kijken dus vooral naar computertechnologie. Ook dan zijn er allerlei technische apparaten, bijvoorbeeld <em>gamecontrollers</em> en <em>virtual-realitybrillen</em>. Daar is in deze module geen ruimte voor.</p>
<p></p>
<p><img src="https://moodle.informatica-actief.nl/draftfile.php/147455/user/draft/915937238/gda25_gamecontroller.png" alt="gamecontroller" width="306" height="192" class="img-responsive atto_image_button_text-bottom"><br></p>
<p>Gamecontroller</p>
<p></p>
<p>De technologie waar we hier mee gaan werken, heet een <strong>game engine</strong>. Een game engine is een stuk standaard software dat allerlei dingen voor je regelt, zodat je dat als gamebouwer zelf niet mee hoeft te programmeren. Een game engine doet dingen die in bijna alle games voorkomen, steeds op min of meer dezelfde manier. Een voorbeeld is <em>collision detection</em>, het detecteren van botsingen.</p>
<p>Dat kan op allerlei manieren in games zitten. Het kan zeer onaangenaam zijn (je wordt geraakt door een vijandelijke kogel en valt dood neer) of juist zeer aangenaam (je raakt/pakt een gouden pil en wordt onkwetsbaar). Het kan een actie zijn (je raakt/drukt op een knop en een deur gaat open). Voor de game engine maakt het allemaal niet uit: die controleert gewoon of twee objecten elkaar raken, of ze ongeveer op dezelfde plek zijn.</p>
<p>Collision detection is best lastig om te programmeren. Omdat het in de game engine zit, hoef je dat niet zelf te doen. Als game-programmeur hoef je dan alleen nog maar te programmeren wat er bij een botsing moet gebeuren. </p>
<p></p>
<p>Er zijn meer dingen die een game engine levert:</p>
<ul>
    <li>
        <p><strong>Physics</strong>. Zorgt ervoor dat dingen gaan zoals in de echt wereld. Er is zwaartekracht, dingen vallen. Een bal stuitert, maar een een schep hutspot niet. Je glijdt van een hellend vlak af...</p>
    </li>
    <li>
        <p><strong>Rendering</strong>. De game engine zorgt ervoor dat het spel op het scherm getoond wordt. De wereld wordt vanuit de huidige positie weergegeven, met achtergrond, game objecten en meer. Bij 2D-games is dit niet zo ingewikkeld: teken alle sprites op de juiste plek. Bij 3D is het lastiger. Iets dat ver weg is moet klein getekend worden, dichtbij is groot. Er zijn misschien lampen, schaduwen en meer. Belichting is heel moeilijk voor een game engine, het kost heel veel rekentijd.</p>
    </li>
    <li>
        <p><strong>Tools</strong>. Game engines hebben heel veel tools om het maken van een gamewereld makkelijker te maken. Je kunt dan bijvoorbeeld makkelijk een speelveld met muurtjes, achtergrond en zo maken. Vaak zijn er allerlei speciale mogelijkheden, bijvoorbeeld <em>speed trees</em> (bomen die bewegen in de wind) en <em>particle systems</em> (rook, watervallen, vulkanen...)</p>
    </li>
</ul>
<p>Deze zaken worden allemaal toegepast in de game loop, zie kader.</p>
<p>In deze module richten we ons op de game engine Unity, omdat dit een uitgebreide engine is waar je mooie 3D-games kunt maken. </p>
<p></p>
<p><img src="https://moodle.informatica-actief.nl/draftfile.php/147455/user/draft/915937238/gda30_unity.png" alt="Unity screen" width="582" height="346" class="img-responsive atto_image_button_text-bottom"><br></p>
<p><em>Unity</em></p>
<p></p>
<table style="border-collapse: collapse; background-color: LightCyan;" border="2" cellpadding="8">
    <tbody>
        <tr>
            <td valign="top">
                <p><strong>De Game Loop</strong></p>
                <p>De kern van een game engine is de game loop. Wanneer een spel loopt, is de game engine bezig met het herhalen van de stappen in een game. Na elke stap wordt de game opnieuw getekend, gerenderd op het scherm. Bij elke stap wordt er gekeken wat er in de game veranderd is.</p>
                <p>Bijvoorbeeld: In een schietspel gebeurt elk iedere stap van alles. De speler verplaatst zich, vijanden en kogels ook. Een kogel kan iets raken, er valt iets. Er wordt geschoten, dus er komen nieuwe kogels bij. Andere kogels verdwijnen juist, ze vliegen de wereld uit zonder iets te raken. Verder is er een brandje... </p>
                <p>Al die veranderingen in de toestand van het spel worden aangeduid met de term update. Het spel en alle objecten hebben een methode update waarin staat wat er elke stap gedaan moet worden. Het tekenen (renderen) van het spel wordt gedaan door een methode draw. De game loop van Unity ziet er dan zo uit:</p>
                <p></p>
                <p><img src="https://moodle.informatica-actief.nl/draftfile.php/147455/user/draft/915937238/gda32_ge.png" alt="flowchart game engine" width="351" height="291" class="img-responsive atto_image_button_text-bottom"><br></p>
                <p><em>Stroomdiagram van de game loop</em></p>
                <p></p>
                <p>In andere game engines loopt het iets anders. <em>GameMaker</em> heeft bijvoorbeeld een Step Event, waar je kunt aangeven wat er elke stap moet gebeuren. Wanneer je in GameMaker een game maakt, hoef je daar alleen de uitzonderlijke dingen op te geven. Botsingen, verplaatsingen, input en andere veel voorkomende zaken worden automatisch gedaan.</p>
            </td>
        </tr>
    </tbody>
</table>
<p></p>
<p class="opdracht">Opdracht 1.5: De technologie achter game X</p>
<ol style="list-style-type: lower-alpha">
    <li>
        <p>Heb je bij game X bijzondere attributen nodig (echt spel) of gebruik je bijzondere game-controllers (computergame)? Geef aan welke dit zijn.</p>
    </li>
    <li>
        <p>Voor computerspellen: de meeste games worden gemaakt met behulp van een game engine zoals Unity. Probeer te achterhalen met welke game engine game X gemaakt is.</p>
    </li>
    <li>
        <p>Vul de presentatie over game X aan.</p>
    </li>
</ol>